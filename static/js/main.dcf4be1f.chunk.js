(this.webpackJsonpgallery=this.webpackJsonpgallery||[]).push([[0],{169:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(29),i=a.n(c),o=(a(76),a(13)),l=(a(77),a(14)),d=function(){return r.a.createElement("div",{className:"logo-wrapper"},r.a.createElement(l.b,{to:"/"},r.a.createElement("svg",{className:"logo"})))},s=a(17),u=(a(33),a(3)),m=a(9),v=a(65),E=a(66),f=a(5),p={isBoardOpen:!1,title:null,id:null},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"OPEN_BOARD":return Object(f.a)({},e,{isBoardOpen:!0,title:null,id:null});case"CLOSE_BOARD":return Object(f.a)({},e,{isBoardOpen:!1,title:null,id:null});case"SUBMIT_BOARD":return Object(f.a)({},e,{isBoardOpen:!1,title:n,id:(new Date).getTime()});default:return e}},B=a(70),O=[],g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"STORE_NEW_BOARD_TO_COLLECTION":return[].concat(Object(B.a)(e),[n]);default:return e}},h={title:null,id:null,isFetching:!1,isEditingList:!1},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case"SELECT_BOARD":return Object(f.a)({},e,{title:n.title,id:n.id,isFetching:!0});case"SELECT_BOARD_SUCCESS":return Object(f.a)({},e,{isFetching:!1});case"OPEN_LIST":case"CLOSE_LIST":return Object(f.a)({},e,{isEditingList:n});default:return Object(f.a)({},e)}},C=a(18),S=a(67),N=a.n(S),w=Object(m.combineReducers)({listItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload,r=N()("list_");switch(a){case"SELECT_BOARD":return n.data||[];case"EDIT_NEW_LIST":return Object(f.a)({},e,Object(C.a)({},r,{name:n,id:r,cards:[]}));case"SUBMIT_TASK":var c=n.listId,i=n.cardName,o=n.cardId,l=e[c];return l.cards.push({name:i,cardId:o,listId:c,isArchived:!1}),Object(f.a)({},e,Object(C.a)({},c,l));case"ARCHIVE_POST":var d=n.cardId,s=n.listId,u=e[s],m=u.cards.find((function(e){return e.cardId===d}));return!1===m.isArchived?m.isArchived=!0:m.isArchived=!1,Object(f.a)({},e,Object(C.a)({},s,u));default:return e}}}),I=Object(m.combineReducers)({newBoard:b,boardsCollection:g,activeBoard:y,activeBoardData:w}),T=a(68),j=a.n(T),k=function(){try{var e=localStorage.getItem("boardsCollection");if(null===e)return;return JSON.parse(e)}catch(t){return}}(),_=Object(m.applyMiddleware)(E.a),L=Object(m.createStore)(I,k,Object(v.composeWithDevTools)(_));L.subscribe(j()((function(){!function(e){try{e.boardsCollection.map((function(t){return t.id===e.activeBoard.id?t.data=e.activeBoardData.listItems:null}));var t=JSON.stringify(e);localStorage.setItem("boardsCollection",t)}catch(a){new Error(a)}}({boardsCollection:L.getState().boardsCollection,newBoard:L.getState().newBoard,activeBoard:L.getState().activeBoard,activeBoardData:L.getState().activeBoardData})}),1e3));var D=L,A=a(2),R=a.n(A),P=function(e){var t=e.onClick;return r.a.createElement("div",{className:"create-board",onClick:t},r.a.createElement("h1",null,"Create a board"))};P.defaultProps={onClick:function(){}};var x=P,K=function(e){var t=e.defaultValue,a=e.closeBoard,n=e.onClick,c=e.onChange,i=e.onKeyPress,o=e.onBlur;e.warningMsg;return r.a.createElement("div",{className:"active-create-board"},r.a.createElement("div",{className:"board-title"},r.a.createElement("h1",null,"Creating a board"),r.a.createElement("svg",{onClick:function(){return a()},className:"icon-exit"})),r.a.createElement("div",{className:"board-main"},r.a.createElement("p",null,"What shall we call the board?"),r.a.createElement("input",{maxLength:"20",id:"inputean",onBlur:o,onKeyPress:i,onChange:c,type:"text",defaultValue:t}),t.length>=20?r.a.createElement("p",null,"max symbol 20"):null),r.a.createElement("div",{className:"board-footer"},r.a.createElement("button",{onClick:function(){return a()}},"cancel"),r.a.createElement("button",{onClick:n},"create")))};K.defaultProps={defaultValue:"",onClick:function(){},onChange:function(){},onKeyPress:function(){},onBlur:function(){},closeBoard:function(){},warningMsg:""};var W=K,M=function(e){var t=e.id,a=e.title;return r.a.createElement(l.b,{id:t,to:"/b/".concat(t)},r.a.createElement("div",{className:"newBoard"},r.a.createElement("h1",null,a)))},U=function(e){var t=e.newBoard,a=e.openBoard,c=e.closeBoard,i=e.submitNewBoard,o=e.boardsCollection,l=Object(n.useState)(""),d=Object(s.a)(l,2),u=d[0],m=d[1];return r.a.createElement("div",{className:"board-wrapper"},t.isBoardOpen?r.a.createElement(W,{onBlur:function(e){var t=e.target.id;document.getElementById(t).style.cssText="border: none"},onKeyPress:function(e){"Enter"===e.key&&u.length>2&&(i(u),m(""),c())},onChange:function(e){var t=e.target,a=t.value,n=t.id;m(a);var r=document.getElementById(n);1===a.length||a.length<3?r.style.cssText="border: 3px solid red":a.length>=20?r.style.cssText="border: 3px solid red":r.style.cssText="border: 3px solid lightgreen"},defaultValue:u,onClick:function(){u.length>2&&(i(u),m(""),c())},closeBoard:c}):r.a.createElement(x,{onClick:a}),o.map((function(e){var t=e.id,a=e.title;return r.a.createElement(M,{key:t,id:t,title:a})})))};U.propType={newBoard:R.a.object,boardsCollection:R.a.array,openBoard:R.a.func.isRequired,closeBoard:R.a.func.isRequired,submitNewBoard:R.a.func.isRequired};var V=Object(u.b)((function(e){return{newBoard:e.newBoard,boardsCollection:e.boardsCollection}}),{openBoard:function(){return{type:"OPEN_BOARD",payload:!0}},closeBoard:function(){return{type:"CLOSE_BOARD",payload:!1}},submitNewBoard:function(e){return function(t){t({type:"SUBMIT_BOARD",payload:e}),t({type:"STORE_NEW_BOARD_TO_COLLECTION",payload:{id:D.getState().newBoard.id,title:D.getState().newBoard.title}})}}})(U),F=(a(89),a(69)),J=a.n(F),q=function(){return function(e){e({type:"CLOSE_LIST",payload:!1})}},H=Object(u.b)(null,{submitTask:function(e,t,a){return function(n){n({type:"SUBMIT_TASK",payload:{cardName:e,listId:a,cardId:t}})}}})((function(e){var t=e.id,a=e.name,c=e.submitTask,i=e.children,o=Object(n.useState)(""),l=Object(s.a)(o,2),d=l[0],u=l[1];return r.a.createElement("div",null,r.a.createElement("div",{id:t,className:"new-list-block"},r.a.createElement("h2",null,a),r.a.createElement("input",{onKeyPress:function(e){"Enter"===e.key&&d.length>2&&(c(d,(new Date).getTime(),t),u(""))},onChange:function(e){var t=e.target.value;u(t)},value:d,type:"text",placeholder:"add task..."}),i))})),$=Object(u.b)(null,{createNewList:function(e){return function(t){t({type:"EDIT_NEW_LIST",payload:e})}},closeList:q})((function(e){var t=e.onClick,a=e.createNewList,c=e.closeList,i=Object(n.useState)(""),o=Object(s.a)(i,2),l=o[0],d=o[1];return r.a.createElement("div",{className:"open-list-block"},r.a.createElement("div",{className:"open-list-container"},r.a.createElement("svg",{onClick:t}),r.a.createElement("input",{onKeyPress:function(e){"Enter"===e.key&&(a(l),c())},onChange:function(e){var t=e.target.value;d(t)},value:l,type:"text",placeholder:"Create list"}),r.a.createElement("p",null,"give me a name.")))})),z=function(e){var t=e.onClick;return r.a.createElement("div",{className:"add-list",onClick:t},"Add a list...")};z.defaultProps={onClick:function(){}};var G=z,Q=function(e){var t=e.items,a=e.archiveCard;return r.a.createElement("ul",{className:"card-list"},t.map((function(e){var t=e.cardId,n=e.listId,c=e.name,i=e.isArchived;return r.a.createElement("li",{className:i?"card-item-through":"card-item",key:t,id:t},r.a.createElement("p",null,c),r.a.createElement("div",{onClick:function(){return a(t,n)}},r.a.createElement("i",{className:"fas fa-check"})))})))};Q.defaultProps={items:[],archiveCard:function(){}};var X=Object(u.b)((function(e){return{activeBoardData:e.activeBoardData}}),{archiveCard:function(e,t){return function(a){a({type:"ARCHIVE_POST",payload:{cardId:e,listId:t}})}}})(Q),Y=Object(u.b)((function(e){return{activeBoard:e.activeBoard,activeBoardData:e.activeBoardData}}),{openList:function(){return function(e){e({type:"OPEN_LIST",payload:!0})}},closeList:q})((function(e){var t=e.activeBoard,a=e.openList,n=e.closeList,c=e.activeBoardData,i=Object.values(c.listItems);return r.a.createElement("div",{className:"list-wrapper"},i.map((function(e){var t=e.name,a=e.id,n=e.cards;return r.a.createElement(H,{key:a,id:a,name:t},r.a.createElement(X,{items:n}))})),t.isEditingList?r.a.createElement($,{onClick:function(){n()}}):r.a.createElement(G,{onClick:function(){a()}}))})),Z=Object(u.b)((function(e){return{activeBoard:e.activeBoard}}),{selectBoard:function(e){return function(t){var a=D.getState().boardsCollection;t({type:"SELECT_BOARD",payload:J()(a,(function(t){return t.id===+e}))}),t({type:"SELECT_BOARD_SUCCESS"})}}})((function(e){var t=e.activeBoard,a=e.selectBoard,c=e.match;Object(n.useEffect)((function(){a(c.params.id)}),[c.params.id,a]);return t.isFetching?r.a.createElement("h1",null,"Loading..."):r.a.createElement("div",{className:"active-board-wrapper"},r.a.createElement("div",{className:"active-board-title"},t.title),r.a.createElement(Y,null))})),ee=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(d,null),r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:V}),r.a.createElement(o.a,{path:"/b/:id",component:Z}),r.a.createElement(o.a,{component:V})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(u.a,{store:D},r.a.createElement(l.a,null,r.a.createElement(ee,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},33:function(e,t,a){},71:function(e,t,a){e.exports=a(169)},76:function(e,t,a){},77:function(e,t,a){},89:function(e,t,a){}},[[71,1,2]]]);
//# sourceMappingURL=main.dcf4be1f.chunk.js.map